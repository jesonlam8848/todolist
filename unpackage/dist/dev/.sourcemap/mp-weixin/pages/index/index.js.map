{"version":3,"sources":["uni-app:///main.js","webpack:///D:/CodeWarehouse/todolist/pages/index/index.vue?8162","webpack:///D:/CodeWarehouse/todolist/pages/index/index.vue?e745","webpack:///D:/CodeWarehouse/todolist/pages/index/index.vue?cadb","webpack:///D:/CodeWarehouse/todolist/pages/index/index.vue?516e","uni-app:///pages/index/index.vue","webpack:///D:/CodeWarehouse/todolist/pages/index/index.vue?847a","webpack:///D:/CodeWarehouse/todolist/pages/index/index.vue?234c"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=57280228&\"","var components\ntry {\n  components = {\n    todoHead: function() {\n      return import(\n        /* webpackChunkName: \"components/todo-head/todo-head\" */ \"@/components/todo-head/todo-head.vue\"\n      )\n    },\n    todoContent: function() {\n      return import(\n        /* webpackChunkName: \"components/todo-content/todo-content\" */ \"@/components/todo-content/todo-content.vue\"\n      )\n    },\n    todoOperate: function() {\n      return import(\n        /* webpackChunkName: \"components/todo-operate/todo-operate\" */ \"@/components/todo-operate/todo-operate.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<!-- pages/index/index -->\r\n\r\n<template>\r\n    <view class=\"container\">\r\n        <!-- 头部组件 -->\r\n        <todo-head :length=\"listData.length\" @tabClick=\"tabClick\"></todo-head>\r\n\r\n        <scroll-view scroll-y class=\"scoll-content\">\r\n            <!-- 中间内容组件 -->\r\n            <todo-content ref=\"list\" :listData=\"listData\" @longpress=\"longpress\" @change=\"change\"></todo-content>\r\n            <!-- 无任务时显示 -->\r\n            <view class=\"no-task\" v-if=\"!listData.length\">\r\n                <image src=\"../../static/tasks.png\"></image>\r\n                <view class=\"no-task-intro\"> {{taskIntro}} </view>\r\n            </view>\r\n        </scroll-view>\r\n\r\n        <!-- 底部操作组件 -->\r\n        <todo-operate ref=\"operate\" @toAddTask=\"toAddTask\" @toMarkOver=\"toMarkOver\" @toDel=\"toDel\" @toSelAll=\"toSelAll\"\r\n            v-model=\"toOperate\"></todo-operate>\r\n    </view>\r\n</template>\r\n<script>\r\n    import warn from '@/common/images/warn.png'\r\n    export default {\r\n        data() {\r\n            return {\r\n                checked: [],\r\n                tabIdx: 0,\r\n                tasks: [],\r\n                taskIntro: '还没有任务，可点击下方按钮，开始创建任务',\r\n                toOperate: false,\r\n            };\r\n        },\r\n        computed: {\r\n            listData() {\r\n                if (this.tabIdx == 0) {\r\n                    return this.tasks;\r\n                } else if (this.tabIdx == 1) {\r\n                    return this.tasks.filter(v => !v.read);;\r\n                } else if (this.tabIdx == 2) {\r\n                    return this.tasks.filter(v => v.read);;\r\n                }\r\n            },\r\n        },\r\n        onLoad() {\r\n            let token = uni.getStorageSync('token');\r\n            if (!token) {\r\n                uni.login({\r\n                    onlyAuthorize: true\r\n                }).then(({\r\n                    code\r\n                }) => {\r\n                    uniCloud.callFunction({\r\n                        name: 'publish',\r\n                        data: {\r\n                            api: 'loginWithMp',\r\n                            code\r\n                        }\r\n                    }).then(({\r\n                        result\r\n                    }) => {\r\n                        token = result.token;\r\n                        uni.setStorageSync('token', token);\r\n                        this.getList();\r\n                    }).catch(err => {\r\n                        console.log('loginloginWithMpErr', err)\r\n                    })\r\n                })\r\n            } else {\r\n                this.getList();\r\n            }\r\n        },\r\n        methods: {\r\n            getList() {\r\n                uniCloud.callFunction({\r\n                    name: 'publish',\r\n                    data: {\r\n                        apiname: 'getTask',\r\n                        token: uni.getStorageSync('token')\r\n                    }\r\n                }).then(res => {\r\n                    // console.log('indexOnLoad', res.result.data);\r\n                    let taskTexts = res.result.data\r\n                    for (let i = 0; i < taskTexts.length; i++) {\r\n                        this.tasks.push({\r\n                            label: taskTexts[i].taskText\r\n                        })\r\n                    }\r\n                })\r\n            },\r\n            change(checked) {\r\n                this.checked = checked;\r\n            },\r\n            // tab切换操作\r\n            tabClick(\r\n                index\r\n            ) {\r\n                this.tabIdx = index;\r\n                this.checked = [];\r\n                if (this.tabIdx == 0 || this.tabIdx == 1) {\r\n                    this.taskIntro = '暂无任务，可点击下方输入，创建任务';\r\n                } else if (this.tabIdx == 2) {\r\n                    this.taskIntro = '暂无已完成的任务，可长按选择，标记为已完成任务，注意已完成任务会被销毁哦';\r\n                }\r\n            },\r\n            // 长按选择\r\n            longpress() {\r\n                this.toOperate = true;\r\n                this.tasks.forEach(v => {\r\n                    !v.hasOwnProperty('show') ? this.$set(v, 'show', true) : (v.show = true)\r\n                });\r\n            },\r\n            // 全选\r\n            toSelAll() {\r\n                let checked = [];\r\n                this.listData.forEach(v => {\r\n                    this.checked.push(v.label);\r\n                    checked.push(v.label);\r\n                })\r\n                this.$refs.list.toChangeSel(checked);\r\n            },\r\n            // 选择后删除\r\n            toDel() {\r\n                if (this.checked.length === 0) {\r\n                    uni.showToast({\r\n                        title: '请选择任务',\r\n                        image: warn\r\n                    });\r\n                    return;\r\n                }\r\n                for (let i = 0; i < this.tasks.length; i++) {\r\n                    let v = this.tasks[i];\r\n                    if (this.checked.includes(v.label)) {\r\n                        this.tasks.splice(i, 1);\r\n                        i--;\r\n                    }!v.hasOwnProperty('show') ? this.$set(v, 'show', false) : (v.show = false);\r\n                }\r\n                // console.log('indexToDelChecked', this.checked);\r\n                uniCloud.callFunction({\r\n                    name: 'publish',\r\n                    data: {\r\n                        apiname: 'delete',\r\n                        checked: this.checked,\r\n                        token: uni.getStorageSync('token')\r\n                    }\r\n                }).then(res => console.log('111', res))\r\n                this.toOperate = false;\r\n            },\r\n            // 标记为已读\r\n            toMarkOver() {\r\n                if (this.checked.length === 0) {\r\n                    uni.showToast({\r\n                        title: '请选择任务',\r\n                        image: warn\r\n                    });\r\n                    return;\r\n                }\r\n                this.tasks.forEach(v => {\r\n                    const result = this.checked.find(s => s === v.label || v.read);\r\n                    if (result) {\r\n                        !v.hasOwnProperty('read') ? this.$set(v, 'read', true) : (v.read = true);\r\n                    } else {\r\n                        !v.hasOwnProperty('read') ? this.$set(v, 'read', false) : (v.read = false);\r\n                    }!v.hasOwnProperty('show') ? this.$set(v, 'show', false) : (v.show = false);\r\n                });\r\n                // console.log('indexToMarkOver', this.checked);\r\n                uniCloud.callFunction({\r\n                    name: 'publish',\r\n                    data: {\r\n                        apiname: 'delete',\r\n                        checked: this.checked,\r\n                        token: uni.getStorageSync('token')\r\n                    }\r\n                }).then(res => console.log('222', res))\r\n                this.toOperate = false;\r\n            },\r\n            // 添加todo\r\n            toAddTask(taskText) {\r\n                // console.log('indexToAddTask', taskText);\r\n                if (!taskText) {\r\n                    uni.showToast({\r\n                        title: '请输入任务名',\r\n                        image: warn\r\n                    });\r\n                    return;\r\n                }\r\n                const result = this.tasks.find(v => v.label === taskText);\r\n                if (result) {\r\n                    uni.showToast({\r\n                        title: '任务重复',\r\n                        image: warn\r\n                    });\r\n                    return;\r\n                }\r\n                this.tasks.push({\r\n                    label: taskText,\r\n                });\r\n                this.$refs.operate.resetText();\r\n            }\r\n        },\r\n    };\r\n</script>\r\n<style lang=\"scss\">\r\n    .container {\r\n        display: flex;\r\n        flex-direction: column;\r\n        height: 100%;\r\n        padding: 20px;\r\n        font-size: 14px;\r\n        line-height: 24px;\r\n        overflow: hidden;\r\n\r\n        .hide {\r\n            display: none !important;\r\n        }\r\n\r\n        // 头部切换\r\n        .title-box {\r\n            flex: 0 0;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: space-between;\r\n\r\n            .title-left {\r\n                .label {\r\n                    color: #0085f5;\r\n                }\r\n            }\r\n        }\r\n\r\n        .scoll-content {\r\n            height: calc(100% - 160rpx);\r\n            padding-top: 30rpx;\r\n\r\n            .no-task {\r\n                display: flex;\r\n                flex-direction: column;\r\n                align-items: center;\r\n                justify-content: center;\r\n\r\n                image {\r\n                    width: 300rpx;\r\n                    height: 300rpx;\r\n                }\r\n\r\n                .no-task-intro {\r\n                    font-size: 30rpx;\r\n                    color: #b9acac;\r\n                }\r\n            }\r\n\r\n            .sel-item {\r\n                display: flex;\r\n                padding: 15rpx;\r\n                margin-bottom: 30rpx;\r\n                background-color: #d3ecfa;\r\n                border-radius: 6rpx;\r\n\r\n                &.active {\r\n                    background-color: #e1e1e1;\r\n                }\r\n\r\n                .sel-label {\r\n                    padding: 0 20rpx;\r\n                    font-size: 30rpx;\r\n                }\r\n            }\r\n        }\r\n\r\n        .add-tast {\r\n            flex: 1 0 80rpx;\r\n        }\r\n\r\n        .to-opreate {\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: space-between;\r\n            height: 80rpx;\r\n\r\n            .item {\r\n                display: flex;\r\n                align-items: center;\r\n\r\n                image {\r\n                    width: 40rpx;\r\n                    height: 40rpx;\r\n                }\r\n            }\r\n        }\r\n    }\r\n</style>\n","import mod from \"-!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1661739101243\n      var cssReload = require(\"D:/Tools/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}